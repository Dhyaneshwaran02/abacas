(()=>{var exports={};exports.id=662,exports.ids=[662],exports.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5511:e=>{"use strict";e.exports=require("crypto")},4985:e=>{"use strict";e.exports=require("dns")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},3496:e=>{"use strict";e.exports=require("http2")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},9771:e=>{"use strict";e.exports=require("process")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},6229:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(260),n=s(8203),a=s(5155),i=s.n(a),o=s(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["sequence",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1854)),"C:\\Users\\KD\\OneDrive\\Desktop\\Personal projects\\Abacas\\Abacas\\abacas\\app\\sequence\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9611)),"C:\\Users\\KD\\OneDrive\\Desktop\\Personal projects\\Abacas\\Abacas\\abacas\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\KD\\OneDrive\\Desktop\\Personal projects\\Abacas\\Abacas\\abacas\\app\\sequence\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/sequence/page",pathname:"/sequence",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7917:(e,t,s)=>{Promise.resolve().then(s.bind(s,5280))},1885:(e,t,s)=>{Promise.resolve().then(s.bind(s,5804))},3681:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3219,23)),Promise.resolve().then(s.t.bind(s,4863,23)),Promise.resolve().then(s.t.bind(s,5155,23)),Promise.resolve().then(s.t.bind(s,802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,8530,23)),Promise.resolve().then(s.t.bind(s,8921,23))},1742:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,3875,23)),Promise.resolve().then(s.t.bind(s,8903,23)),Promise.resolve().then(s.t.bind(s,7174,23)),Promise.resolve().then(s.t.bind(s,4178,23)),Promise.resolve().then(s.t.bind(s,7190,23)),Promise.resolve().then(s.t.bind(s,1365,23))},413:()=>{},6909:()=>{},5804:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5512),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8009),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),next_navigation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9334),firebase_firestore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7656),_firebaseConfig__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5900);let SequencePage=()=>{let router=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),searchParams=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)(),assignmentId=searchParams.get("id"),[sequence,setSequence]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[currentQuestionIndex,setCurrentQuestionIndex]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),[isPaused,setIsPaused]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[timeInterval,setTimeInterval]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),[currentSequenceIndex,setCurrentSequenceIndex]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),[currentSequence,setCurrentSequence]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[showAnswer,setShowAnswer]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[calculatedAnswer,setCalculatedAnswer]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{(async()=>{if(assignmentId)try{let e=(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.H9)(_firebaseConfig__WEBPACK_IMPORTED_MODULE_4__.db,"Assignment",assignmentId),t=await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.x7)(e);if(t.exists()){let e=t.data(),s=e.sequence||[],r=e.timeInterval||0;setSequence(s),setTimeInterval(r),prepareCurrentSequence(s[0]?.question||"")}else console.error("No document found with the given assignmentId."),alert("Assignment not found. Redirecting to home."),router.push("/")}catch(e){console.error("Error fetching assignment data:",e),alert("Failed to fetch assignment. Redirecting to home."),router.push("/")}finally{setLoading(!1)}})()},[assignmentId,router]);let prepareCurrentSequence=e=>{let t=[],s=/([+\-*/รท]?\d+(\.\d+)?)/g,r=e.match(s);r&&t.push(...r),setCurrentSequence(t),setCurrentSequenceIndex(0),setShowAnswer(!1),setCalculatedAnswer(null)};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{if(!isPaused&&currentSequenceIndex<currentSequence.length){new Audio("/beep.mp3").play();let e=setTimeout(()=>{setCurrentSequenceIndex(e=>e+1)},1e3*timeInterval);return()=>clearTimeout(e)}},[currentSequenceIndex,currentSequence,isPaused,timeInterval]);let handleNextQuestion=()=>{currentQuestionIndex+1<sequence.length&&(setCurrentQuestionIndex(e=>e+1),prepareCurrentSequence(sequence[currentQuestionIndex+1].question),setIsPaused(!1))},handlePreviousQuestion=()=>{currentQuestionIndex-1>=0&&(setCurrentQuestionIndex(e=>e-1),prepareCurrentSequence(sequence[currentQuestionIndex-1].question),setIsPaused(!1))},calculateAnswer=question=>{try{let sanitizedExpression=question.replace(/รท/g,"/").replace(/[^\d+\-*/().]/g,""),answer=eval(sanitizedExpression);isNaN(answer)?setCalculatedAnswer("Invalid Expression"):setCalculatedAnswer(answer.toString())}catch(error){console.error(error),setCalculatedAnswer("Invalid Expression")}},handleShowAnswer=()=>{currentSequence.length>0&&calculateAnswer(currentSequence.join("")),setShowAnswer(!0)},formatQuestionForDisplay=e=>e.replace(/\*/g,"x").replace(/\//g,"\xf7");return loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"Loading..."})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"bg-gray-100 min-h-screen flex flex-col items-center py-10",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-orange-500 shadow-md rounded-lg p-8 w-[800px]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-8xl font-semibold text-center",children:String.fromCharCode(65+currentQuestionIndex)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-9xl font-bold text-center my-8",children:currentSequenceIndex<currentSequence.length?formatQuestionForDisplay(currentSequence[currentSequenceIndex]):"Completed!"}),currentSequenceIndex>=currentSequence.length&&!showAnswer&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:handleShowAnswer,className:"bg-green-500 text-white px-4 py-2 rounded-md mx-auto block",children:"Show Answer"}),showAnswer&&calculatedAnswer&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-6xl text-center mt-4",children:["Answer: ",calculatedAnswer||"N/A"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex justify-between mt-10",children:[currentSequenceIndex>=currentSequence.length&&currentQuestionIndex>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:handlePreviousQuestion,className:"bg-gray-500 text-white px-4 py-2 rounded-md",children:"Previous"}),currentSequenceIndex>=currentSequence.length&&currentQuestionIndex<sequence.length-1&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:handleNextQuestion,className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Next"}),currentSequenceIndex>=currentSequence.length&&currentQuestionIndex===sequence.length-1&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>router.push("/"),className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Home"})]}),currentSequenceIndex<currentSequence.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>setIsPaused(!isPaused),className:`mt-5 px-4 py-2 rounded-md ${isPaused?"bg-blue-500":"bg-red-500"} text-white mx-auto block`,children:isPaused?"Continue":"Pause"}),currentSequenceIndex<currentSequence.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-center text-lg mt-2",children:"Sequence in progress..."})]})})},__WEBPACK_DEFAULT_EXPORT__=SequencePage},5900:(e,t,s)=>{"use strict";s.d(t,{db:()=>l});var r=s(4341),n=s(1711),a=s(7656);let i={apiKey:"AIzaSyDQOKOcCzVBlYvlfAtmdzSLB4ouBXMmGoo",authDomain:"abacas-67eba.firebaseapp.com",projectId:"abacas-67eba",storageBucket:"abacas-67eba.firebasestorage.app",messagingSenderId:"800560735781",appId:"1:800560735781:web:f408083d170babc84d41cc",measurementId:"G-RS3NJCLQNN"},o=(0,r.Wp)(i);(0,n.P5)(o);let l=(0,a.aU)(o)},9611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>l});var r=s(2740),n=s(7879),a=s.n(n),i=s(3298),o=s.n(i);s(2704);let l={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${a().variable} ${o().variable} antialiased`,children:e})})}},1854:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(2740),n=s(5280);s(6301);let a=()=>(0,r.jsx)("div",{children:(0,r.jsx)(n.default,{})})},5280:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\KD\\\\OneDrive\\\\Desktop\\\\Personal projects\\\\Abacas\\\\Abacas\\\\abacas\\\\components\\\\SequencePage.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\KD\\OneDrive\\Desktop\\Personal projects\\Abacas\\Abacas\\abacas\\components\\SequencePage.tsx","default")},6055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(8077);let n=async e=>{let t={type:"image/x-icon",sizes:"16x16"},s=(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico");return[{...t,url:s+""}]}},2704:()=>{}};var __webpack_require__=require("../../webpack-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e),__webpack_exports__=__webpack_require__.X(0,[638,949,77,756],()=>__webpack_exec__(6229));module.exports=__webpack_exports__})();